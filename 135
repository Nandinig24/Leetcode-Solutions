class Solution {
public:
int  candy(vector<int> &A) {
vector<int>candy(A.size(),1);
int n=A.size();

if(n==1)
return 1;

// left to right traverse
for(int i=1;i<n;i++){
    if(A[i-1]<A[i] && candy[i-1]>=candy[i])
    candy[i]=candy[i-1]+1;
    
}       
// right to left 

for(int i=n-2;i>=0;i--){
    if(A[i]>A[i+1] && candy[i+1]>=candy[i])
    candy[i]=candy[i+1]+1;
}

int sum=0;
for(int i=0;i<n;i++)
sum+=candy[i];

return sum;
    
     
}
};